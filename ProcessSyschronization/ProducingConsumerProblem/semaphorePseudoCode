wait(S) {
  while (S <= 0)
    ; // busy waiting
  S--;
}

signal(S) { S++; }